---
# Promtail version and download URL
promtail_version: "2.9.2"
promtail_download_url: "https://github.com/grafana/loki/releases/download/v{{ promtail_version }}/promtail-linux-amd64.zip"

# User and group settings
promtail_user: "root"
promtail_group: "root"

# Installation directories
promtail_install_dir: "/usr/local/bin"
promtail_config_dir: "/etc/promtail"
promtail_positions_dir: "/var/lib/promtail"

# Service configuration
promtail_service_enabled: true
promtail_state: "started"

# Default port
promtail_server_port: 9080

# Loki configuration
promtail_loki_url: "http://10.0.5.110:3100/loki/api/v1/push"

# Log configuration
promtail_log_level: "info"
###########Employeee##################
promtail_scrape_configs:
- job_name: systemd-journal1
    journal:
      max_age: 12h
      labels:
        job: employee-api
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'employee-api\.service'
        action: keep
  - job_name: employee-api-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: employee-api
          __path__: /var/log/employee-api.log
###########Salary##################
- job_name: systemd-journal2
    journal:
      max_age: 12h
      labels:
        job: salary-api
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'salary-api\.service'
        action: keep
  - job_name: salary-api-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: salary-api
          __path__: /var/log/salary-api.log
###########Attendance##################          
- job_name: systemd-journal3
    journal:
      max_age: 12h
      labels:
        job: attendance-api
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'attendance-api\.service'
        action: keep
  - job_name: attendance-api-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: attendance-api
          __path__: /var/log/attendance-api.log        
###########Scylla##################
- job_name: systemd-journal4
    journal:
      max_age: 12h
      labels:
        job: scylla-db
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'scylla-api\.service'
        action: keep
  - job_name: scylla-db-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: scylla-db
          __path__: /var/log/scylla.log    
###########Redis##################
- job_name: systemd-journal5
    journal:
      max_age: 12h
      labels:
        job: redis
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'redis\.service'
        action: keep
  - job_name: redis-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: redis
          __path__: /var/log/redis.log            
###########Postgres##################
- job_name: systemd-journal6
    journal:
      max_age: 12h
      labels:
        job: postgres
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'postgres\.service'
        action: keep
  - job_name: postgres-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: postgres
          __path__: /var/log/postgres.log  
###########Frontend##################
- job_name: systemd-journal7
    journal:
      max_age: 12h
      labels:
        job: frontend
    relabel_configs:
      - source_labels: ['__journal__systemd_unit']
        regex: 'frontend\.service'
        action: keep
  - job_name: frontend-file-logs
    static_configs:
      - targets:
          - localhost
        labels:
          job: frontend
          __path__: /var/log/frontend.log           

# Additional configuration options
promtail_extra_args: []
